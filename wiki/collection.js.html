<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: collection.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: collection.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var app = app || {};

/**
 * Search results from the nutritionix API, used to populate
 * the FoodCollectionView with a list of food items. Sends
 * an AJAX request to nutritionix using a keyword from the user.
 *
 * @constructor
 */
app.FoodCollection = Backbone.Collection.extend({
    model: app.FoodModel,
    initialize: function() {
        self = this;
    },
    search: function(food) {
        self = this;
        var url = 'https://api.nutritionix.com/v1_1/search/' + food + '?fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat&amp;appId=283e6104&amp;appKey=7adbf74351829801e39b98eb74723505';
        $.ajax({
            url: url,
            dataType: 'json',
        }).done(function(result) {
            var foods = result.hits;
            foods.forEach(function(food) {
                self.add(new app.FoodModel({
                    name: food.fields.item_name,
                    brandname: food.fields.brand_name,
                    calories: Math.round(food.fields.nf_calories),
                }));
            });
        }).error(function(jqXHR, textStatus, errorThrown) {
            console.log('Something went wrong');
        });
    }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="app.Database.html">Database</a></li><li><a href="app.FoodCollection.html">FoodCollection</a></li><li><a href="app.FoodCollectionView.html">FoodCollectionView</a></li><li><a href="app.FoodItemView.html">FoodItemView</a></li><li><a href="app.FoodModel.html">FoodModel</a></li><li><a href="app.NavigationView.html">NavigationView</a></li><li><a href="app.ProfileModel.html">ProfileModel</a></li><li><a href="app.ProfileView.html">ProfileView</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Apr 03 2016 05:58:25 GMT+1000 (AEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
